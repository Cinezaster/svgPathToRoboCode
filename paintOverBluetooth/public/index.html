<!Doctype htlm>
<html>
	<head>
		<title>svg to robot control panel</title>
		<script src="/siofu/client.js"></script>
		<script src="/socket.io/socket.io.js"></script>
	</head>
	<body>
		<h1>SVG to Robot control panel</h1>
		<hr>
		<p>Upload your svg file and show when it is done uploading</p>
		<p>Click to convert svg file to robo code and show result in canvas</p>
		<p>Connect with robot over bluetooth</p>
		<p>if connected to bluetooth send to robot.</p>

		<p><button id="upload_btn">Prompt for File</button></p>
<p><label>Choose File: <input type="file" id="upload_input"/></label></p>
<div id="file_drop" dropzone="copy" title="drop files for upload">Drop File</div>

		<script type="text/javascript">	
  			var socket = io.connect('http://localhost');
  			socket.on('news', function (data) {
    			console.log(data);
    			socket.emit('file', { my: 'data' });
  			});

			// Initialize instances:
			var siofu = new SocketIOFileUpload(socket);

			console.log(siofu);

			// Configure the three ways that SocketIOFileUpload can read files:
			document.getElementById("upload_btn").addEventListener("click", siofu.prompt, false);
			siofu.listenOnInput(document.getElementById("upload_input"));
			siofu.listenOnDrop(document.getElementById("file_drop"));

			// Do something when a file is uploaded:
			siofu.addEventListener("complete", function(event){
				console.log(event.success);
				console.log(event.file);
			});
		</script>
	</body>
</html>